<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <style>
        body {
            direction: rtl;
            text-align: right;
            line-height: 1rem;
            font-family: Tahoma;
            background: #eee;
        }

        .dir-left {
            direction: ltr;
            text-align: left;
        }

        .text-center {
            text-align: center;
        }

        .container {
            padding: 15px;
            background: #fff;
            margin: 10px;
        }

        ul {}

        ul li {
            margin: 5px;
        }

        ul li a {
            text-decoration: none;
        }

        .seprator {
            margin-bottom: 50px;
        }

        table {
            width: 100%;
            border: 1px solid #bdbdbd;
        }

        table th {}

        table td {}

        table th,
        table td {
            padding: 5px;
            border: 1px solid #dbdbdb;
        }

        h4 {
            margin-top: 55px;
        }

        div {}

        p {
            word-wrap: break-word;
        }

        .code {
            font-size: 12px;
            background: #1a1a1a;
            color: #fff;
            padding: 7px;
        }
    </style>
</head>

<body>
    <div class="container">
        <p class="text-center">
            بسمه تعالی
        </p>
        <h2 class="text-center">مستند فراخوانی api واسط ارسال صورتحساب</h1>

            <ul>
                <li>
                    <a href="#part-1">
                        دریافت اطلاعات سرور
                    </a>
                </li>
                <li>
                    <a href="#part-2">
                        دریافت توکن
                    </a>
                </li>
                <li>
                    <a href="#part-3">
                        دریافت اطلاعات حافظه مالیاتی
                    </a>
                </li>
                <li>
                    <a href="#part-4">
                        استعلام کد اقتصادی
                    </a>
                </li>
                <li>
                    <a href="#part-5">
                        ارسال صورتحساب
                    </a>
                </li>
                <li>
                    <a href="#part-6">
                        با uid استعلام صورتحساب
                    </a>
                </li>
                <li>
                    <a href="#part-7">
                        استعلام صورتحساب با رسید یکتا
                    </a>
                </li>
                <li>
                    <a href="#part-8">
                        استعلام صورتحساب با زمان
                    </a>
                </li>
                <li>
                    <a href="#part-9">
                        استعلام صورتحساب با بازه زمانی
                    </a>
                </li>
            </ul>

            <h4 style="color: red;">نکات مهم</h4>
            <ul>
                <li>
                    در تمامی پاسخ های دریافتی پارامتر status نشان دهنده وضعیت پاسخ می باشد اگر true باشد موفق و اگر
                    false نتیجه ناموفق است
                </li>
                <li>
                    در تمامی پاسخ های دریافتی پارامتر code نشان دهنده نوع خطا می باشد
                    <ul>
                        <li>اگر 0 باشد یعنی خطایی وجود ندارد</li>
                        <li>
                            اگر 1 باشد خطای سازمان
                        </li>
                        <li>
                            اگر 2 باشد خطای validation api خودمان
                        </li>
                        <li>
                            اگر 500 باشد خطای کامپایل api خودمان
                        </li>
                    </ul>
                </li>
                <li>
                    در تمامی پاسخ های دریافتی اگر اطلاعاتی از طرف سازمان دریاف گردد در فیلد data قرار می گیرد
                </li>
                <li>
                    در تمامی پاسخ های دریافتی فیلد message پیامی از طرف api خودمان هست
                </li>
            </ul>
            <hr>
            <p style="color: red;">برای استفاده از api بایستی فایل کلید خصوصی بصورت زیر در مسیر مورد نظر ذخیره گردد</p>
            <p>keys/AAAAAA.key</p>
            <span>AAAAAA همان حافظه مالیاتی هست که اسم نام فایل خواهد بود که داخلش کلید خصوصی قرار دارد</span>

    </div>
    <div class="seprator">

    </div>

    <div id="part-1" class="container">
        <h3>
            دریافت اطلاعات سرور
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /helper/get_server_information
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            ندارد
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: 'success' }</td>
                        <td>{ status: false, code: 1, data: error, message: 'faided' }</td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="seprator">

    </div>

    <div id="part-2" class="container">
        <h3>
            دریافت توکن
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /helper/get_token
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            client_id
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: ' حافظه مالیاتی معتبر نیست', data: {}, help: { client_id:
                            '...' } }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: { token: response }, message: 'get token success' }</td>
                        <td>{ status: false, code: 1, data: error, message: 'get token faided' }</td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/helper/get_token" -H "Accept:application/json, text/plain, */*"
                    -H
                    "Content-Type:application/json; charset=utf-8" --data '{"client_id":"AAAAAA"}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "token":
                    "eyJhbGciOiJIUzUxMiJ9.eyJqdGkiOiJBMTRQN0UiLCJ0b2tlbklkIjoiNzRhZTJmY2MtM2QyYi00YTkxLWExNTQtMjY4ZDg1OGQxOTkyIiwiY3JlYXRlRGF0ZSI6MTY5MzE5NzgwMDIzOCwiY2xpZW50VHlwZSI6Ik1FTU9SWSIsInRheHBheWVySWQiOiIxMDIwMDMzODc3MCIsInN1YiI6IkExNFA3RSIsImV4cCI6MTY5MzIxMjIwMCwiaXNzIjoiVEFYIE9yZ2FuaXphdGlvbiJ9.cQCDJ9l-SmDcS-MYvZqqMvSUTro9ZwnCLMYj8zAbfpi_MQPkWNVA4Mvso4IrEZNdpEICYq7c46se8nV22yEsVA"
                    },
                    "message": "get token success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "code": 2,
                    "message": " حافظه مالیاتی معتبر نیست",
                    "data": {},
                    "help": {
                    "client_id": "..."
                    }
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": false,
                    "code": 1,
                    "data": {
                    "signature": null,
                    "signatureKeyId": null,
                    "timestamp": 1693199762604,
                    "errors": [
                    {
                    "detail": "برای این نوع بسته، ارسال امضا الزامی می باشد",
                    "errorCode": "4007"
                    }
                    ]
                    },
                    "message": "get token faided"
                    }
                </p>
            </div>
        </div>
    </div>
    <div class="seprator">

    </div>

    <div id="part-3" class="container">
        <h3>
            دریافت اطلاعات حافظه مالیاتی
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /helper/get_fiscal_information
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            client_id
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: ' حافظه مالیاتی معتبر نیست', data: {}, help: { client_id:
                            '...' } }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' GET_FISCAL_INFORMATION success' }</td>
                        <td>{ status: false, code: 1, data: error, message: 'GET_FISCAL_INFORMATION faided' }</td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    url -X POST "http://localhost:8182/helper/get_fiscal_information" -H "Accept:application/json,
                    text/plain, */*" -H "Content-Type:application/json; charset=utf-8" --data '{"client_id":"AAAAAA"}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "nameTrade": "AAAAAA",
                    "fiscalStatus": "ACTIVE",
                    "saleThreshold": null,
                    "economicCode": "10200338770"
                    },
                    "message": " get_fiscal_information success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "code": 2,
                    "message": " حافظه مالیاتی معتبر نیست",
                    "data": {},
                    "help": {
                    "client_id": "..."
                    }
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": false,
                    "code": 1,
                    "data": {
                    "signature": null,
                    "signatureKeyId": null,
                    "timestamp": 1693199600574,
                    "errors": [
                    {
                    "detail": "برای این نوع بسته، ارسال امضا الزامی می باشد",
                    "errorCode": "4007"
                    }
                    ]
                    },
                    "message": "get_fiscal_information faided"
                    }
                </p>
            </div>
        </div>
    </div>

    <div class="seprator">

    </div>

    <div id="part-4" class="container">
        <h3>
            استعلام کد اقتصادی
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /helper/get_economic_code_information
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            client_id
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>economicCode</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: ' شماره اقتصادی معتبر نیست', data: {}, help: {
                            economicCode: '...' } }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' get_economic_code_information success' }
                        </td>
                        <td>{ status: false, code: 1, data: error, message: 'get_economic_code_information faided' }
                        </td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/helper/get_economic_code_information" -H
                    "Accept:application/json, text/plain, */*" -H "Content-Type:application/json; charset=utf-8" --data
                    '{"economicCode":"10200338770"}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "nameTrade": "آذر آباد اجرا",
                    "taxpayerStatus": "ENABLED",
                    "taxpayerType": "LEGAL",
                    "postalcodeTaxpayer": "5157686431",
                    "addressTaxpayer": "مرکزی ولیعصر بلوار شریعتی کوچه 12 متری اورژانس پلاک 20 طبقه منفی 1"
                    },
                    "message": " get_economic_code_information success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "code": 2,
                    "message": " شماره اقتصادی معتبر نیست",
                    "data": {},
                    "help": {
                    "economicCode": "..."
                    }
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": [
                    {
                    "code": "400 BAD_REQUEST \"5207\"",
                    "message": "400 BAD_REQUEST \"5207\"",
                    "errorType": "ERROR"
                    }
                    ],
                    "message": " get_economic_code_information success"
                    }
                </p>
            </div>
        </div>
    </div>

    <div class="seprator">

    </div>

    <div id="part-5" class="container">
        <h3>
            ارسال صورتحساب
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /invoice/send_invoice
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            { client_id: '...', invoices: [{ header: {}, body: [{}, {}], payments: [{}, {}], extension:
                            null }] }
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>inputs</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs', message: 'پارامترهای ورودی معتبر نیست'
                            }] , data: {} }</td>
                    </tr>
                    <tr>
                        <td>inputs.client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs.client_id', message: ' حافظه مالیاتی معتبر
                            نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'invoices', message: ' صورتحساب معتبر نیست' }],
                            data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].header (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].header', message: 'سربرگ
                            صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].body (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].body', message: 'بدنه
                            صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].payments (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].payments', message:
                            'پرداخت صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].extension (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].extension', message:
                            'extension صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Inty (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].Header.Inty', message: 'نوع صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Inp (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Inp', message: 'الگوی صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Taxid (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Taxid', message: ' شماره منحصر به فرد مالیاتی معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Indati2m (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Indati2m', message: 'تاریخ ایجاد صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Indatim (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Indatim', message: 'تاریخ صدور صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Ins (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Ins', message: ' موضوع صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Inno (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Inno', message: ' سریال داخلی صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Setm (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Setm', message: '  روش تسویه صورتحساب معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Tob (x=ردیف) - اگر نوع صورتحساب نوع 1 باشد</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Tob', message: ' نوع شخص خریدار معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Bid (x=ردیف) - اگر نوع صورتحساب نوع 1 باشد</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Bid', message: '   شماره/شناسه ملی معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].Header.Tinb (x=ردیف) - اگر نوع صورتحساب نوع 1 باشد</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [{ index: x, key: 'invoices[x].Header.Tinb', message: 'شماره اقتصادی خریدار معتبر نست' }], data: {} }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' send invoice success' }
                        </td>
                        <td>{ status: false, code: 1, data: error, message: 'send invoice faided' }
                        </td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/invoice/send_invoice" -H "Accept:application/json, text/plain,
                    */*" -H "Content-Type:application/json; charset=utf-8" --data
                    '{"inputs":{"client_id":"AAAAAA"},"invoices":[{"Header":{"Taxid":"AAAAAA04C84002B681C064","Indatim":1692420004000,"Indati2m":1692420004224,"Inty":1,"Inno":"100000000001","Irtaxid":null,"Inp":1,"Ins":1,"Tins":"","Tob":1,"Bid":"1","Tinb":"1","Sbc":"1","Bpc":"1","Bbc":null,"Ft":null,"Bpn":null,"Scln":"1","Scc":null,"Crn":"1","Billid":null,"Tprdis":500,"Tdis":0,"Tadis":500,"Tvam":0,"Todam":0,"Tbill":0,"Setm":1,"Cap":500,"Insp":null,"Tvop":0,"Tax17":0,"Cdcn":null,"Cdcd":null,"Tonw":null,"Torv":null,"Tocv":null},"Body":[{"Sstid":"123","Sstt":null,"Mu":"1627","Am":1,"Fee":500,"Cfee":null,"Cut":"IRR","Exr":1,"Prdis":500,"Dis":0,"Adis":500,"Vra":0,"Vam":0,"Odt":"","Odr":0,"Odam":0,"Olt":"","Olr":0,"Olam":0,"Consfee":null,"Spro":null,"Bros":null,"Tcpbs":null,"Cop":0,"Vop":0,"Bsrn":"0","Tsstam":500,"Nw":null,"Ssrv":null,"Sscv":null}],"Payments":[],"Extension":null}]}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "signature": null,
                    "signatureKeyId": null,
                    "timestamp": 1693751705,
                    "result": [
                    {
                    "uid": "20bf1bca-e196-4c26-b506-0700dfb802dc",
                    "referenceNumber": "9cd9ef7d-ff27-4e5d-843a-8c2d74b3491e",
                    "errorCode": null,
                    "errorDetail": null
                    }
                    ]
                    },
                    "message": "send invoice success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "message": [
                    {
                    "index": 0,
                    "key": "invoices[x].Payments",
                    "message": "پرداخت صورتحساب معتبر نیست"
                    }
                    ],
                    "help": {
                    "client_id": "...",
                    "invoices": [
                    {
                    "Header": {},
                    "Body": [
                    {},
                    {}
                    ],
                    "Payments": [
                    {},
                    {}
                    ],
                    "Extension": null
                    },
                    {
                    "Header": {},
                    "Body": [
                    {},
                    {}
                    ],
                    "Payments": [
                    {},
                    {}
                    ],
                    "Extension": null
                    }
                    ]
                    },
                    "code": 1,
                    "data": {}
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "signature": null,
                    "signatureKeyId": null,
                    "timestamp": 1693205381,
                    "result": [
                    {
                    "uid": "373892a5-f143-4d4f-8122-d42de749b507",
                    "referenceNumber": null,
                    "errorCode": "4007",
                    "errorDetail": "برای این نوع بسته، ارسال امضا الزامی می باشد"
                    }
                    ]
                    },
                    "message": "send invoice success"
                    }
                </p>
            </div>
        </div>
    </div>

    <div class="seprator">

    </div>

    <div id="part-6" class="container">
        <h3>
            با uid استعلام صورتحساب
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /inquiry/inquiry_by_uid
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            {
                            client_id: '...', invoices: [{
                            "fiscalId": "...",
                            "uid": ".."
                            }, {
                            "fiscalId": "...",
                            "uid": ".."
                            }]
                            }
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>inputs</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs', message: 'پارامترهای ورودی معتبر نیست'
                            }] , data: {} }</td>
                    </tr>
                    <tr>
                        <td>inputs.client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs.client_id', message: ' حافظه مالیاتی معتبر
                            نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'invoices', message: ' صورتحساب معتبر نیست' }],
                            data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].fiscalId (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].fiscalId', message: '
                            حافظه مالیاتی معتبر نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices[x].uid (x=ردیف)</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message: [ { index: x, key: 'invoices[x].uiu', message: ' شناسه
                            صورت حساب معتبر نیست' }], data: {} }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' inquiry success' }
                        </td>
                        <td>{ status: false, code: 1, data: error, message: 'inquiry faided' }
                        </td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/inquiry/inquiry_by_uid" -H "Accept:application/json, text/plain,
                    */*" -H "Content-Type:application/json; charset=utf-8" --data
                    '{"inputs":{"client_id":"AAAAAA"},"invoices":[{"fiscalId":"AAAAAA","uid":"9d6b38b6-d584-4838-a9b8-e32110832148"}]}'

                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "uid": null,
                    "packetType": "INQUIRY_RESULT",
                    "data": [
                    {
                    "referenceNumber": "08561508-a814-40c4-ad2b-aea56904ae00",
                    "uid": "9d6b38b6-d584-4838-a9b8-e32110832148",
                    "status": "FAILED",
                    "data": {
                    "confirmationReferenceId": null,
                    "error": [
                    {
                    "code": "011408",
                    "message": "طول مقدار وارد شده در فیلد «کد پستی خریدار» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010508",
                    "message": "طول مقدار وارد شده در فیلد «سریال صورتحساب» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010504",
                    "message": "در مقدار وارد شده در فیلد «سریال صورتحساب» الگو(^[a-fA-F0-9]{10}$) رعایت نشده است.",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 11 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011108",
                    "message": "طول مقدار وارد شده در فیلد «شماره/شناسه ملی/شناسه مشارکت مدنی/کد فراگیر خریدار» کوچکتر
                    از حداقل طول مجاز است. (طول مقدار وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011208",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی خریدار» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    }
                    ],
                    "warning": [],
                    "success": false
                    },
                    "packetType": "receive_invoice_confirm",
                    "fiscalId": "AAAAAA"
                    }
                    ],
                    "encryptionKeyId": null,
                    "symmetricKey": null,
                    "iv": null
                    },
                    "message": "inquiry invoice success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "message": [
                    {
                    "index": 0,
                    "key": "invoices[x].uid",
                    "message": " شناسه صورت حساب معتبر نیست"
                    }
                    ],
                    "help": {
                    "client_id": "...",
                    "invoices": [
                    {
                    "fiscalId": "...",
                    "uid": ".."
                    },
                    {
                    "fiscalId": "...",
                    "uid": ".."
                    }
                    ]
                    },
                    "code": 1,
                    "data": {}
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "uid": null,
                    "packetType": "INQUIRY_RESULT",
                    "data": [
                    {
                    "referenceNumber": null,
                    "uid": "9d6b38b6-d584-4838-a9b8-e32110832148",
                    "status": "NOT_FOUND",
                    "data": null,
                    "packetType": null,
                    "fiscalId": "A14P7t"
                    }
                    ],
                    "encryptionKeyId": null,
                    "symmetricKey": null,
                    "iv": null
                    },
                    "message": "inquiry invoice success"
                    }
                </p>
            </div>
        </div>
    </div>
    <div id="part-7" class="container">
        <h3>
            استعلام صورتحساب با رسید یکتا
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /inquiry/inquiry_by_reference_number
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            {
                            client_id: '...', invoices: {referenceNumber:[]}
                            }
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>inputs</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs', message: 'پارامترهای ورودی معتبر نیست'
                            }] , data: {} }</td>
                    </tr>
                    <tr>
                        <td>inputs.client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs.client_id', message: ' حافظه مالیاتی معتبر
                            نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>invoices</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'invoices', message: ' صورتحساب معتبر نیست' }],
                            data: {} }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' inquiry success' }
                        </td>
                        <td>{ status: false, code: 1, data: error, message: 'inquiry faided' }
                        </td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/inquiry/inquiry_by_reference_number" -H
                    "Accept:application/json, text/plain, */*" -H "Content-Type:application/json; charset=utf-8"
                    --data
                    '{"inputs":{"client_id":"AAAAAA"},"referenceNumber":{"referenceNumber":["262c885e-8a11-4c76-ac57-166fdebeed5c"]}}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "uid": null,
                    "packetType": "INQUIRY_RESULT",
                    "data": [
                    {
                    "referenceNumber": "262c885e-8a11-4c76-ac57-166fdebeed5c",
                    "uid": "daae7209-39af-4357-a4be-7d691417915a",
                    "status": "FAILED",
                    "data": {
                    "confirmationReferenceId": null,
                    "error": [
                    {
                    "code": "011408",
                    "message": "طول مقدار وارد شده در فیلد «کد پستی خریدار» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010508",
                    "message": "طول مقدار وارد شده در فیلد «سریال صورتحساب» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010504",
                    "message": "در مقدار وارد شده در فیلد «سریال صورتحساب» الگو(^[a-fA-F0-9]{10}$) رعایت نشده است.",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 11 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011108",
                    "message": "طول مقدار وارد شده در فیلد «شماره/شناسه ملی/شناسه مشارکت مدنی/کد فراگیر خریدار» کوچکتر
                    از حداقل طول مجاز است. (طول مقدار وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011208",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی خریدار» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    }
                    ],
                    "warning": [],
                    "success": false
                    },
                    "packetType": "receive_invoice_confirm",
                    "fiscalId": "AAAAAA"
                    }
                    ],
                    "encryptionKeyId": null,
                    "symmetricKey": null,
                    "iv": null
                    },
                    "message": "inquiry invoice success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "message": [
                    {
                    "key": "invoices",
                    "message": " اطلاعات صورتحساب ها معتبر نیست"
                    }
                    ],
                    "help": {
                    "client_id": "...",
                    invoices:{"referenceNumber": [
                    "#######",
                    "#######"
                    ]}
                    },
                    "code": 1,
                    "data": {}
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "uid": null,
                    "packetType": "INQUIRY_RESULT",
                    "data": [
                    {
                    "referenceNumber": "262c885e-8a11-4c76-ac57-166fdebeed3c",
                    "uid": null,
                    "status": "NOT_FOUND",
                    "data": null,
                    "packetType": null,
                    "fiscalId": null
                    }
                    ],
                    "encryptionKeyId": null,
                    "symmetricKey": null,
                    "iv": null
                    },
                    "message": "inquiry invoice success"
                    }
                </p>
            </div>
        </div>
    </div>
    <div id="part-8" class="container">
        <h3>
            استعلام صورتحساب با زمان
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /inquiry/inquiry_by_time
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            {
                            client_id: '...', data: {time:14010321}
                            }
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>inputs</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs', message: 'پارامترهای ورودی معتبر نیست'
                            }] , data: {} }</td>
                    </tr>
                    <tr>
                        <td>inputs.client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs.client_id', message: ' حافظه مالیاتی معتبر
                            نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>data</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'data', message: ' صورتحساب معتبر نیست' }],
                            data: {} }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' inquiry success' }
                        </td>
                        <td>{ status: false, code: 1, data: error, message: 'inquiry faided' }
                        </td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/inquiry/inquiry_by_time" -H "Accept:application/json,
                    text/plain, */*" -H "Content-Type:application/json; charset=utf-8" --data
                    '{"inputs":{"client_id":"AAAAAA"},"data":{"time":14020525}}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "uid": null,
                    "packetType": "INQUIRY_RESULT",
                    "data": [
                    {
                    "referenceNumber": "043b9f4a-b669-42ee-a214-9aa99308b9cf",
                    "uid": "03584901-5c6a-4081-84fe-43b10b9ecf9c",
                    "status": "FAILED",
                    "data": {
                    "confirmationReferenceId": null,
                    "error": [
                    {
                    "code": "011408",
                    "message": "طول مقدار وارد شده در فیلد «کد پستی خریدار» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010508",
                    "message": "طول مقدار وارد شده در فیلد «سریال صورتحساب» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010504",
                    "message": "در مقدار وارد شده در فیلد «سریال صورتحساب» الگو(^[a-fA-F0-9]{10}$) رعایت نشده است.",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 11 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011108",
                    "message": "طول مقدار وارد شده در فیلد «شماره/شناسه ملی/شناسه مشارکت مدنی/کد فراگیر خریدار» کوچکتر
                    از حداقل طول مجاز است. (طول مقدار وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011208",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی خریدار» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    }
                    ],
                    "warning": [],
                    "success": false
                    },
                    "packetType": "receive_invoice_confirm",
                    "fiscalId": "AAAAAA"
                    },
                    {
                    "referenceNumber": "3ba43aef-b634-4ffb-bce0-04a5346e1e80",
                    "uid": "fddbfdcc-9ca3-4e9f-b2c1-152cc3992f7a",
                    "status": "FAILED",
                    "data": {
                    "confirmationReferenceId": null,
                    "error": [
                    {
                    "code": "011408",
                    "message": "طول مقدار وارد شده در فیلد «کد پستی خریدار» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010508",
                    "message": "طول مقدار وارد شده در فیلد «سریال صورتحساب» کوچکتر از حداقل طول مجاز است. (طول مقدار
                    وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010504",
                    "message": "در مقدار وارد شده در فیلد «سریال صورتحساب» الگو(^[a-fA-F0-9]{10}$) رعایت نشده است.",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 11 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "010908",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی فروشنده» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011108",
                    "message": "طول مقدار وارد شده در فیلد «شماره/شناسه ملی/شناسه مشارکت مدنی/کد فراگیر خریدار» کوچکتر
                    از حداقل طول مجاز است. (طول مقدار وارد شده باید حداقل 10 باشد)",
                    "errorType": "ERROR"
                    },
                    {
                    "code": "011208",
                    "message": "طول مقدار وارد شده در فیلد «شماره اقتصادی خریدار» کوچکتر از حداقل طول مجاز است. (طول
                    مقدار وارد شده باید حداقل 14 باشد)",
                    "errorType": "ERROR"
                    }
                    ],
                    "warning": [],
                    "success": false
                    },
                    "packetType": "receive_invoice_confirm",
                    "fiscalId": "AAAAAA"
                    }
                    ],
                    "encryptionKeyId": null,
                    "symmetricKey": null,
                    "iv": null
                    },
                    "message": "inquiry invoice success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "message": [
                    {
                    "key": "data",
                    "message": " اطلاعات صورتحساب ها معتبر نیست"
                    }
                    ],
                    "help": {
                    "client_id": "...",
                    data:{"time": 14020525}
                    },
                    "code": 1,
                    "data": {}
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "signature": null,
                    "signatureKeyId": null,
                    "timestamp": 1693205381,
                    "result": [
                    {
                    "uid": "373892a5-f143-4d4f-8122-d42de749b507",
                    "referenceNumber": null,
                    "errorCode": "4007",
                    "errorDetail": "برای این نوع بسته، ارسال امضا الزامی می باشد"
                    }
                    ]
                    },
                    "message": "send invoice success"
                    }
                </p>
            </div>
        </div>
    </div>
    <div id="part-9" class="container">
        <h3>
            استعلام صورتحساب با بازه زمانی
        </h3>
        <div>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>
                            url
                        </th>
                        <th>
                            method
                        </th>
                        <th>
                            inputs
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            /inquiry/inquiry_by_time_range
                        </td>
                        <td>
                            post
                        </td>
                        <td>
                            {
                            client_id: '...', data: {
                            startDate:
                            14010321,
                            endDate:
                            14010324
                            }
                            }
                        </td>
                    </tr>
                </tbody>
            </table>
            <h4>
                validation
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>پارامتر</th>
                        <th>وضعیت</th>
                        <th>پاسخ</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>inputs</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs', message: 'پارامترهای ورودی معتبر نیست'
                            }] , data: {} }</td>
                    </tr>
                    <tr>
                        <td>inputs.client_id</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'inputs.client_id', message: ' حافظه مالیاتی معتبر
                            نیست' }], data: {} }</td>
                    </tr>
                    <tr>
                        <td>data</td>
                        <td>خالی</td>
                        <td>{ status: false, code: 2, message:[{ key: 'data', message: ' صورتحساب معتبر نیست' }],
                            data: {} }</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                خروجی تابع
            </h4>
            <table class="dir-left">
                <thead>
                    <tr>
                        <th>موفق</th>
                        <th>ناموفق</th>
                        <th>خطا</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>{ status: true, code: 0, data: response, message: ' inquiry success' }
                        </td>
                        <td>{ status: false, code: 1, data: error, message: 'inquiry faided' }
                        </td>
                        <td>{ status: false, data: {}, code: 500, message: err }
                        </td>
                    </tr>
                    <tr>
                        <td>response : دیتای دریافتی از طرف سازمان</td>
                        <td>error : خطای دریافتی از طرف سازمان</td>
                        <td>err : خطای کامپایل در سرور خودمان</td>
                    </tr>
                </tbody>
            </table>
            <h4>
                مثال
            </h4>
            <div class="dir-left">
                <p>
                    درخواست curl
                </p>
                <p class="code">
                    curl -X POST "http://localhost:8182/inquiry/inquiry_by_time_range" -H "Accept:application/json,
                    text/plain, */*" -H "Content-Type:application/json; charset=utf-8" --data
                    '{"inputs":{"client_id":"AAAAAA"},"data":{"startDate":14010321,"endDate":14010324}}'
                </p>
                <hr>
                <p>
                    پاسخ موفق
                </p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "uid": null,
                    "packetType": "INQUIRY_RESULT",
                    "data": [],
                    "encryptionKeyId": null,
                    "symmetricKey": null,
                    "iv": null
                    },
                    "message": "inquiry invoice success"
                    }
                </p>
                <hr>
                <p>پاسخ ناموفق خودمان</p>
                <p class="code">
                    {
                    "status": false,
                    "message": [
                    {
                    "key": "data",
                    "message": " اطلاعات صورتحساب ها معتبر نیست"
                    }
                    ],
                    "help": {
                    "client_id": "...",
                    data:{
                    startDate:
                    14010321,
                    endDate:
                    14010324
                    }
                    },
                    "code": 1,
                    "data": {}
                    }
                </p>
                <p>پاسخ ناموفق سازمان</p>
                <p class="code">
                    {
                    "status": true,
                    "code": 0,
                    "data": {
                    "signature": null,
                    "signatureKeyId": null,
                    "timestamp": 1693205381,
                    "result": [
                    {
                    "uid": "373892a5-f143-4d4f-8122-d42de749b507",
                    "referenceNumber": null,
                    "errorCode": "4007",
                    "errorDetail": "برای این نوع بسته، ارسال امضا الزامی می باشد"
                    }
                    ]
                    },
                    "message": "send invoice success"
                    }
                </p>
            </div>
        </div>
    </div>
</body>

</html>